<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BOOK_NOTES</title>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <h1>BookNotes</h1>

    <!-- Centered Button -->
    <div class="button-container">
      <a href="/add" class="add-btn">Add New Book</a>
    </div>

    <div class="container">
      <% Book.forEach(book => { %>
      <div class="book-entry">
        <% if (book.cover_id) { %>
        <img
          class="book-cover"
          src="https://covers.openlibrary.org/b/id/<%= book.cover_id %>-M.jpg"
          alt="Book Cover"
        />
        <% } %>

        <div class="book-info">
          <h2><%= book.title %> <small>by <%= book.author %></small></h2>
          <p><strong>Rating:</strong> <%= book.rating %></p>
          <p><strong>Notes:</strong> <%= book.notes %></p>
          <p>
            <strong>Date Read:</strong> <%= book.date_read.toDateString() %>
          </p>
        </div>
        <%# Edit %>

        <a href="/edit/<%= book.id %>" class="edit-btn">Edit</a>

        <%# Delete %>
        <form
          action="/delete/<%= book.id %>"
          method="POST"
          onsubmit="return confirm('Are you sure you want to delete this book?');"
        >
          <button type="submit" class="delete-btn">Delete</button>
        </form>
      </div>

      <% }); %>
    </div>
  </body>
</html>
